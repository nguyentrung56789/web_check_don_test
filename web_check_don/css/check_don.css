/* =========================
   THEME (biến màu toàn cục)
   ========================= */
:root{
  --bg:#0b1220;        /* màu nền trang */
  --panel:#0f1830;     /* nền thẻ/card/panel */
  --line:#192542;      /* đường viền/đường kẻ */
  --txt:#e6edff;       /* màu chữ chính */
  --muted:#93a2c7;     /* màu chữ phụ/ghi chú */
  --brand:#69b4ff;     /* màu thương hiệu/nút chính */
  --ok:#2dd4bf;        /* màu trạng thái "OK/Success" */
  --err:#ff6b6b;       /* màu trạng thái lỗi */
  --head-bg:#0f2b5a;   /* nền header của bảng */
  --head-txt:#cfe7ff;  /* chữ header bảng */
  --head-border:#264a85; /* viền dưới header bảng */
}

/* =========================
   KHUNG/PHÔNG CHỮ CƠ BẢN
   ========================= */
html, body {
  height: 100%;                       /* chiếm toàn bộ chiều cao viewport */
  margin: 0;                          /* bỏ margin mặc định */
  overflow: hidden;                   /* khoá scroll trang (nội dung cuộn trong .grid) */
  background:var(--bg);               /* nền chung */
  color:var(--txt);                   /* màu chữ chung */
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; /* font fallback */
}
.wrap {
  height: 100vh;                      /* đủ 1 màn hình */
  max-width: 1200px;                  /* bề ngang tối đa */
  margin: 0 auto;                     /* căn giữa theo ngang */
  padding: 20px;                      /* khoảng đệm ngoài */
  display: flex;                      /* dùng flex để chứa .card */
}
.wrap.full { max-width: 100% !important; } /* mở rộng tối đa khi bật chế độ "full" */
.card {
  display: flex;                      /* xếp dọc bên trong */
  flex-direction: column;
  width: 100%;                        /* phủ toàn bộ chiều ngang wrap */
  background:var(--panel);            /* nền panel */
  border:1px solid var(--line);       /* viền panel */
  border-radius:16px;                 /* bo góc */
  padding:16px;                       /* khoảng đệm trong */
}

/* hàng điều khiển phía trên (lọc/tìm kiếm) */
.top{
  display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:10px;
}

/* input & button chung */
input,button{
  background:#111b3a;                 /* nền tối */
  color:#e6edff;                      /* chữ sáng */
  border:1px solid var(--line);       /* viền nhạt */
  border-radius:12px;                 /* bo góc */
  padding:10px 12px;                  /* đệm trong */
  font-size:14px;
  outline:none;                       /* bỏ viền focus mặc định */
}
.grow{ flex:1; min-width:220px }      /* phần tử có thể giãn chiếm chỗ còn lại */
button{
  background:var(--brand);            /* màu nút chính */
  color:#07142a;                      /* chữ đậm để dễ đọc trên nền sáng */
  font-weight:600;
  cursor:pointer;
}
.muted{ color:var(--muted) }          /* chữ mờ cho ghi chú */
h1{ margin:0 0 12px; font-size:26px } /* tiêu đề trang */

/* khung lưới/bảng cuộn được */
.grid{
  flex:1; min-height:0;               /* cho phép con cuộn (trong flex column) */
  overflow:auto;                      /* cuộn nội dung bảng */
  border:1px solid var(--line);       /* viền ngoài */
  border-radius:14px;
  background:var(--panel);
}

/* bảng dữ liệu */
table{
  border-collapse:separate;           /* tách border để dùng border-radius */
  border-spacing:0;
  width:100%;
  min-width:1180px;                   /* tránh co cột quá nhỏ */
}

/* header bảng cố định */
thead th{
  position:sticky; top:0; z-index:5;  /* ghim đầu khi cuộn */
  padding:12px 10px;
  text-align:left;
  text-transform:lowercase;           /* chữ thường để phong cách */
  background:var(--head-bg);
  color:var(--head-txt);
  border-bottom:1px solid var(--head-border);
  box-shadow: 0 1px 0 rgba(0,0,0,.25), 0 0 0 1px rgba(0,0,0,0) inset; /* nhấn nhẹ mép dưới */
}
tbody td{
  padding:10px;
  border-bottom:1px dashed var(--line); /* gạch phân tách hàng */
}
tr:hover td{ background:#0e1731 }     /* hiệu ứng hover hàng */
.right{ text-align:right; white-space:nowrap; } /* căn phải + không xuống dòng */
.empty{ color:var(--muted); text-align:center; padding:16px } /* hàng rỗng */

/* nhãn trạng thái */
.badge{
  display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px;
  border:1px solid #2a3d64; background:#0f1b36; color:#cfe3ff;
}
.badge.ok{   border-color:#1f8f66; background:#0f2c23; color:#9FE870 }  /* thành công */
.badge.wait{ border-color:#8f7a1f; background:#2a240f; color:#facc15 }  /* đang chờ/tiến trình */
.badge.err{  border-color:#8f2a1f; background:#2a0f12; color:#ff6b6b }  /* lỗi/thất bại */

/* hàng nhập/scan mã */
.scan-row{ margin:12px 0 6px; display:flex; gap:10px; align-items:center; }
#scan{
  flex:1; padding:18px 20px; font-size:22px; font-weight:600;
  border:2px solid #2dd4bf; border-radius:14px; background:#0d1a3a; color:#fff; /* làm nổi bật ô scan */
}
#scan::placeholder{ color:#8fffe0; font-size:20px; } /* placeholder dễ nhìn */
#scan:focus{ outline:none; border-color:#5ff3df; box-shadow:0 0 0 2px rgba(45,212,191,.45); } /* trạng thái focus */

/* nút hành động phụ (không phải nút brand) */
.btn-action{
  padding:14px 18px; border-radius:12px; border:1px solid #223a5c; background:#13244a; color:#e6edff;
  font-weight:700; cursor:pointer; white-space:nowrap;
  transition:filter .15s ease, transform .02s ease;             /* hiệu ứng hover/press */
}
.btn-action:hover{ filter:brightness(1.12); box-shadow:0 4px 14px rgba(0,0,0,.25); transform:translateY(-1px); }
.btn-action:active{ transform:translateY(0); }
.btn-action.active{ background:#2dd4bf; color:#07142a; border-color:#1aa795; } /* trạng thái bật */

/* input chọn nhân viên giao hàng */
.emp-input{
  width:100%; min-width:210px; background:#111b3a; color:#e6edff; border:1px solid #223a5c;
  border-radius:10px; padding:8px 10px; outline:none;
}
.emp-input.err{ border-color:#ff6b6b; box-shadow:0 0 0 2px rgba(255,107,107,.25); } /* báo lỗi */

/* nút “Giao hàng” từng dòng */
.btn-ship-row{
  background:#153a21; border:1px solid #1e7f3b; color:#9FE870; font-weight:700;
  border-radius:12px; padding:10px 14px; cursor:pointer; white-space:nowrap;
  transition:filter .15s ease, transform .02s ease;
}
.btn-ship-row:disabled{ opacity:.6; cursor:not-allowed; }
.btn-ship-row:hover{
  filter:brightness(1.12);
  box-shadow: 0 0 0 2px rgba(255,255,255,.06), 0 6px 14px rgba(0,0,0,.25);
  transform: translateY(-1px);
}

/* hàng đang active (được bấm/chọn) */
tr.active-row td{ background:#0b2956 !important; }

/* link phụ “xem” trạng thái */
.link-soft{ color:#b7a7ff; opacity:.9; text-decoration:none; margin-left:8px; font-weight:600; }
.link-soft:hover{ text-decoration:underline; opacity:1; }

/* =========================
   OVERLAY CHI TIẾT ĐƠN
   ========================= */
#detailOverlay{
  position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:10000;
}
#detailPanel{
  width:min(1100px,94vw); height:min(740px,92vh); background:#0f1830; border:1px solid #223; border-radius:14px;
  display:flex; flex-direction:column; overflow:hidden;
}
#detailHead{
  display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid #223;
}
#detailHead .title{ font-weight:700; color:#a7c3ff }
#detailHead button{ background:#13244a; border:1px solid #20335d; color:#e6edff; border-radius:10px; padding:8px 10px; cursor:pointer; }
#detailClose{ background:#2b354d; }
#detailFrame{ flex:1; border:0; width:100% }

/* =========================
   THANH USER (góc phải)
   ========================= */
#userBar {
  position: fixed; top: 8px; right: 16px; z-index: 2000;
  background: rgba(255,255,255,0.15); padding: 6px 10px; border-radius: 10px;
  display: flex; align-items: center; color: #fff;
}

/* =========================
   CHUÔNG THÔNG BÁO (nút)
   ========================= */
#notifyBell {
  position: fixed; top: 8px; right: 220px;   /* đặt lệch so với userBar */
  background: #fff; border: none; cursor: pointer;
  font-size: 20px; line-height: 1; color: #fbbf24;
  border-radius: 50%; width: 38px; height: 38px;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  z-index: 2001;
}
#notifyBell:hover {
  filter: brightness(1.15); transform: scale(1.1); transition: 0.2s; /* hiệu ứng hover */
}

/* checkbox đẹp hơn (màu xanh ngọc) */
#chkAll, .row-chk { accent-color: var(--ok); }

/* =========================
   “ĐƠN HÀNG COD” – hiển thị riêng
   ========================= */
th.col-don-hang, td.col-don-hang { text-align:center; } /* căn giữa cột */
.cod-flag {
  font-weight: 700; text-transform: none; background: transparent; border: 0; padding: 0; color: #22c55e; /* xanh cho COD */
}
.cod-flag a{ color: #22c55e; text-decoration: none; font-weight: 700; }      /* link COD */
.cod-flag a:hover{ text-decoration: underline; }
.cod-none{ color: inherit; opacity: 0.9; }                                    /* style cho không-COD */

/* =========================
   CỤM NGÀY CẬP NHẬT + NÚT
   (bên phải thanh trạng thái)
   ========================= */
#sbState{ gap:10px; display:flex; align-items:center; flex-wrap:wrap; }
#sbState .right-end{ margin-left: auto; display: inline-flex; gap: 10px; align-items: center; } /* đẩy về phải */
#capDate{ min-width:180px; background:#111b3a; border:1px solid var(--line); border-radius:10px; padding:8px 10px; } /* input ngày */
.inline-label{ font-size:14px; opacity:.85; } /* nhãn nhỏ */

/* =========================================================
   CHUÔNG – BADGE SỐ ĐỎ (đếm thông báo chưa đọc)
/* ====== Chuông giữa form, ngang hàng tiêu đề ====== */
:root{
  /* chỉnh nhanh độ cao chuông so với mép trên viewport */
  --bell-top: 30px;    /* thử 28–34px tuỳ layout của bạn */
  --bell-size: 38px;   /* đúng bằng kích thước nút chuông */
  --bell-gap: 8px;     /* khoảng cách giữa chuông và panel */
}

#notifyBell{
  position: fixed !important;
  top: var(--bell-top) !important;       /* ↑ canh ngang hàng h1 */
  left: 50% !important;
  right: auto !important;
  transform: translateX(-50%) !important;
  z-index: 3000 !important;
  display: flex !important;
}

#notifyBell .nbadge{
  position: absolute !important;
  top: -8px !important;
  right: -8px !important;
  display: flex;
}

/* Panel bung ngay dưới chuông và canh giữa */
#notifyPanel{
  position: fixed !important;
  top: calc(var(--bell-top) + var(--bell-size) + var(--bell-gap)) !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  right: auto !important;
  z-index: 2999 !important;
}

/* (tuỳ chọn) tinh chỉnh trên màn nhỏ nếu tiêu đề cao hơn */
@media (max-width: 640px){
  :root{
    --bell-top: 36px;
  }
}

.t { color:#fbbf24; font-weight:700; }
th.col-trang-thai, td[data-cell="trang_thai"] {
  text-align: center;
}




/* ====== Bố cục để pager co giãn theo ô “Kiểm tra đơn” ====== */

/* Khối thẻ chứa: hiển thị dạng cột để .grid chiếm phần còn lại */
.card{
  display: flex;
  flex-direction: column;
  /* chiều cao tối thiểu để .grid có không gian cuộn; chỉnh nếu cần */
  min-height: 70vh;
}

/* .grid là VÙNG CUỘN chính (scrollbar nằm trong ô) */
.grid{
  flex: 1 1 auto;
  min-height: 0;            /* QUAN TRỌNG cho flex-child được cuộn */
  overflow: auto;           /* cuộn danh sách trong ô */
  /* bo viền/góc tuỳ bạn */
  border: 1px solid #22345c;
  border-radius: 10px;
  background: #0b1426;
}

/* Header bảng vẫn dính đỉnh của vùng cuộn .grid */
.grid thead th{
  position: sticky;
  top: 0;
  z-index: 5;
}

/* ====== PAGER: dính ĐÁY bên trong .grid (không ảnh hưởng bar top) ====== */
/* ===== PAGER nằm trong ô, nền đặc ===== */
#pager{
  position: sticky;
  bottom: 0;
  left: 0; right: 0;
  z-index: 6;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;

  /* NỀN ĐẶC giống bar top (không trong suốt nữa) */
  background: #0f1830;              /* cùng màu bar tiêu đề */
  border-top: 1px solid #22345c;
  box-shadow: 0 -6px 14px rgba(0,0,0,.35);

  padding: 10px 16px;
}

/* Nhóm nút trong pager */
#pager > div{ display:flex; align-items:center; gap:10px; }

#pager .btn-action{
  background:#12244a;
  border:1px solid #2a3d6a;
  color:#e6edff;
  padding:8px 12px;
  border-radius:10px;
  font-weight:700;
}

#pgSize{
  height:34px;
  padding:6px 10px;
  background:#0b1220;
  color:#e6edff;
  border:1px solid #2a3d6a;
  border-radius:8px;
}

#pgInfo{ color:#9aa7c7; }
/* ===== Căn giữa ô checkbox trong bảng ===== */
td:first-child, 
th:first-child {
  text-align: center;          /* căn giữa ngang */
  vertical-align: middle;      /* căn giữa dọc */
  width: 48px;                 /* giữ độ rộng hợp lý cho checkbox */
}

td:first-child input[type="checkbox"] {
  display: flex;
  margin: 0 auto;              /* giữa ngang trong ô */
  transform: scale(1.2);       /* phóng to nhẹ cho dễ bấm (tùy chọn) */
  accent-color: var(--ok);     /* màu xanh ngọc cho đồng bộ theme */
}

